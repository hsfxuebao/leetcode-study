# ç»å…¸åŠ¨æ€è§„åˆ’ï¼šç¼–è¾‘è·ç¦»

è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

|                           LeetCode                           |                            åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :---------------------------------------------------------: | :--: |
| [72. Edit Distance](https://leetcode.com/problems/edit-distance/) | [72. ç¼–è¾‘è·ç¦»](https://leetcode.cn/problems/edit-distance/) |  ğŸ”´   |

**â€”â€”â€”â€“**

> æœ¬æ–‡æœ‰è§†é¢‘ç‰ˆï¼š [ç¼–è¾‘è·ç¦»è¯¦è§£åŠ¨æ€è§„åˆ’](https://www.bilibili.com/video/BV1uv411W73P/)ã€‚å»ºè®®å…³æ³¨æˆ‘çš„ B ç«™è´¦å·ï¼Œæˆ‘ä¼šç”¨è§†é¢‘é¢†è¯»çš„æ–¹å¼å¸¦å¤§å®¶å­¦ä¹ é‚£äº›ç¨æœ‰éš¾åº¦çš„ç®—æ³•æŠ€å·§ã€‚

å‰å‡ å¤©çœ‹äº†ä¸€ä»½é¹…å‚çš„é¢è¯•é¢˜ï¼Œç®—æ³•éƒ¨åˆ†å¤§åŠæ˜¯åŠ¨æ€è§„åˆ’ï¼Œæœ€åä¸€é¢˜å°±æ˜¯å†™ä¸€ä¸ªè®¡ç®—ç¼–è¾‘è·ç¦»çš„å‡½æ•°ï¼Œä»Šå¤©å°±ä¸“é—¨å†™ä¸€ç¯‡æ–‡ç« æ¥æ¢è®¨ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚

æˆ‘ä¸ªäººå¾ˆå–œæ¬¢ç¼–è¾‘è·ç¦»è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒçœ‹èµ·æ¥ååˆ†å›°éš¾ï¼Œè§£æ³•å´å‡ºå¥‡å¾—ç®€å•æ¼‚äº®ï¼Œè€Œä¸”å®ƒæ˜¯å°‘æœ‰çš„æ¯”è¾ƒå®ç”¨çš„ç®—æ³•ï¼ˆæˆ‘æ‰¿è®¤å¾ˆå¤šç®—æ³•é—®é¢˜éƒ½ä¸å¤ªå®ç”¨ï¼‰ã€‚

åŠ›æ‰£ç¬¬ 72 é¢˜ã€Œ [ç¼–è¾‘è·ç¦»](https://leetcode.cn/problems/edit-distance/)ã€å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œå…ˆçœ‹ä¸‹é¢˜ç›®ï¼š

[![img](https://labuladong.github.io/algo/images/editDistance/title.png)](https://labuladong.github.io/algo/images/editDistance/title.png)

å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

```java
int minDistance(String s1, String s2)
```

ä¸ºä»€ä¹ˆè¯´è¿™ä¸ªé—®é¢˜éš¾å‘¢ï¼Œå› ä¸ºæ˜¾è€Œæ˜“è§ï¼Œå®ƒå°±æ˜¯éš¾ï¼Œè®©äººæ‰‹è¶³æ— æªï¼Œæœ›è€Œç”Ÿç•ã€‚

ä¸ºä»€ä¹ˆè¯´å®ƒå®ç”¨å‘¢ï¼Œå› ä¸ºå‰å‡ å¤©æˆ‘å°±åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ç”¨åˆ°äº†è¿™ä¸ªç®—æ³•ã€‚ä¹‹å‰æœ‰ä¸€ç¯‡å…¬ä¼—å·æ–‡ç« ç”±äºç–å¿½ï¼Œå†™é”™ä½äº†ä¸€æ®µå†…å®¹ï¼Œæˆ‘å†³å®šä¿®æ”¹è¿™éƒ¨åˆ†å†…å®¹è®©é€»è¾‘é€šé¡ºã€‚ä½†æ˜¯å…¬ä¼—å·æ–‡ç« æœ€å¤šåªèƒ½ä¿®æ”¹ 20 ä¸ªå­—ï¼Œä¸”åªæ”¯æŒå¢ã€åˆ ã€æ›¿æ¢æ“ä½œï¼ˆè·Ÿç¼–è¾‘è·ç¦»é—®é¢˜ä¸€æ¨¡ä¸€æ ·ï¼‰ï¼Œäºæ˜¯æˆ‘å°±ç”¨ç®—æ³•æ±‚å‡ºäº†ä¸€ä¸ªæœ€ä¼˜æ–¹æ¡ˆï¼Œåªç”¨äº† 16 æ­¥å°±å®Œæˆäº†ä¿®æ”¹ã€‚

å†æ¯”å¦‚é«˜å¤§ä¸Šä¸€ç‚¹çš„åº”ç”¨ï¼ŒDNA åºåˆ—æ˜¯ç”± A,G,C,T ç»„æˆçš„åºåˆ—ï¼Œå¯ä»¥ç±»æ¯”æˆå­—ç¬¦ä¸²ã€‚ç¼–è¾‘è·ç¦»å¯ä»¥è¡¡é‡ä¸¤ä¸ª DNA åºåˆ—çš„ç›¸ä¼¼åº¦ï¼Œç¼–è¾‘è·ç¦»è¶Šå°ï¼Œè¯´æ˜è¿™ä¸¤æ®µ DNA è¶Šç›¸ä¼¼ï¼Œè¯´ä¸å®šè¿™ä¿© DNA çš„ä¸»äººæ˜¯è¿œå¤è¿‘äº²å•¥çš„ã€‚

ä¸‹é¢è¨€å½’æ­£ä¼ ï¼Œè¯¦ç»†è®²è§£ä¸€ä¸‹ç¼–è¾‘è·ç¦»è¯¥æ€ä¹ˆç®—ï¼Œç›¸ä¿¡æœ¬æ–‡ä¼šè®©ä½ æœ‰æ”¶è·ã€‚

### ä¸€ã€æ€è·¯

ç¼–è¾‘è·ç¦»é—®é¢˜å°±æ˜¯ç»™æˆ‘ä»¬ä¸¤ä¸ªå­—ç¬¦ä¸² `s1` å’Œ `s2`ï¼Œåªèƒ½ç”¨ä¸‰ç§æ“ä½œï¼Œè®©æˆ‘ä»¬æŠŠ `s1` å˜æˆ `s2`ï¼Œæ±‚æœ€å°‘çš„æ“ä½œæ•°ã€‚éœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œä¸ç®¡æ˜¯æŠŠ `s1` å˜æˆ `s2` è¿˜æ˜¯åè¿‡æ¥ï¼Œç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥åæ–‡å°±ä»¥ `s1` å˜æˆ `s2` ä¸¾ä¾‹ã€‚

åæ–‡ [æœ€é•¿å…¬å…±å­åºåˆ—](https://labuladong.github.io/algo/di-er-zhan-a01c6/zi-xu-lie--6bc09/jing-dian--72bf1/) è¯´è¿‡ï¼Œ**è§£å†³ä¸¤ä¸ªå­—ç¬¦ä¸²çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆ `i, j` åˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€åï¼Œç„¶åä¸€æ­¥æ­¥å¾€å‰ç§»åŠ¨ï¼Œç¼©å°é—®é¢˜çš„è§„æ¨¡**ã€‚

> PSï¼šå…¶å®è®© `i, j` ä»å‰å¾€åç§»åŠ¨ä¹Ÿå¯ä»¥ï¼Œæ”¹ä¸€ä¸‹ `dp` å‡½æ•°/æ•°ç»„çš„å®šä¹‰å³å¯ï¼Œæ€è·¯æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚

è®¾ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ†åˆ«ä¸º `"rad"` å’Œ `"apple"`ï¼Œä¸ºäº†æŠŠ `s1` å˜æˆ `s2`ï¼Œç®—æ³•ä¼šè¿™æ ·è¿›è¡Œï¼š

[![img](https://labuladong.github.io/algo/images/editDistance/edit.gif)](https://labuladong.github.io/algo/images/editDistance/edit.gif)

[![img](https://labuladong.github.io/algo/images/editDistance/1.jpg)](https://labuladong.github.io/algo/images/editDistance/1.jpg)

è¯·è®°ä½è¿™ä¸ª GIF è¿‡ç¨‹ï¼Œè¿™æ ·å°±èƒ½ç®—å‡ºç¼–è¾‘è·ç¦»ã€‚å…³é”®åœ¨äºå¦‚ä½•åšå‡ºæ­£ç¡®çš„æ“ä½œï¼Œç¨åä¼šè®²ã€‚

æ ¹æ®ä¸Šé¢çš„ GIFï¼Œå¯ä»¥å‘ç°æ“ä½œä¸åªæœ‰ä¸‰ä¸ªï¼Œå…¶å®è¿˜æœ‰ç¬¬å››ä¸ªæ“ä½œï¼Œå°±æ˜¯ä»€ä¹ˆéƒ½ä¸è¦åšï¼ˆskipï¼‰ã€‚æ¯”å¦‚è¿™ä¸ªæƒ…å†µï¼š

[![img](https://labuladong.github.io/algo/images/editDistance/2.jpg)](https://labuladong.github.io/algo/images/editDistance/2.jpg)

å› ä¸ºè¿™ä¸¤ä¸ªå­—ç¬¦æœ¬æ¥å°±ç›¸åŒï¼Œä¸ºäº†ä½¿ç¼–è¾‘è·ç¦»æœ€å°ï¼Œæ˜¾ç„¶ä¸åº”è¯¥å¯¹å®ƒä»¬æœ‰ä»»ä½•æ“ä½œï¼Œç›´æ¥å¾€å‰ç§»åŠ¨ `i, j` å³å¯ã€‚

è¿˜æœ‰ä¸€ä¸ªå¾ˆå®¹æ˜“å¤„ç†çš„æƒ…å†µï¼Œå°±æ˜¯ `j` èµ°å®Œ `s2` æ—¶ï¼Œå¦‚æœ `i` è¿˜æ²¡èµ°å®Œ `s1`ï¼Œé‚£ä¹ˆåªèƒ½ç”¨åˆ é™¤æ“ä½œæŠŠ `s1` ç¼©çŸ­ä¸º `s2`ã€‚æ¯”å¦‚è¿™ä¸ªæƒ…å†µï¼š

[![img](https://labuladong.github.io/algo/images/editDistance/3.jpg)](https://labuladong.github.io/algo/images/editDistance/3.jpg)

ç±»ä¼¼çš„ï¼Œå¦‚æœ `i` èµ°å®Œ `s1` æ—¶ `j` è¿˜æ²¡èµ°å®Œäº† `s2`ï¼Œé‚£å°±åªèƒ½ç”¨æ’å…¥æ“ä½œæŠŠ `s2` å‰©ä¸‹çš„å­—ç¬¦å…¨éƒ¨æ’å…¥ `s1`ã€‚ç­‰ä¼šä¼šçœ‹åˆ°ï¼Œè¿™ä¸¤ç§æƒ…å†µå°±æ˜¯ç®—æ³•çš„ **base case**ã€‚

ä¸‹é¢è¯¦è§£ä¸€ä¸‹å¦‚ä½•å°†æ€è·¯è½¬æ¢æˆä»£ç ï¼Œåç¨³ï¼Œè¦å‘è½¦äº†ã€‚

### äºŒã€ä»£ç è¯¦è§£

å…ˆæ¢³ç†ä¸€ä¸‹ä¹‹å‰çš„æ€è·¯ï¼š

base case æ˜¯ `i` èµ°å®Œ `s1` æˆ– `j` èµ°å®Œ `s2`ï¼Œå¯ä»¥ç›´æ¥è¿”å›å¦ä¸€ä¸ªå­—ç¬¦ä¸²å‰©ä¸‹çš„é•¿åº¦ã€‚

å¯¹äºæ¯å¯¹å„¿å­—ç¬¦ `s1[i]` å’Œ `s2[j]`ï¼Œå¯ä»¥æœ‰å››ç§æ“ä½œï¼š

```python
if s1[i] == s2[j]:
    å•¥éƒ½åˆ«åšï¼ˆskipï¼‰
    i, j åŒæ—¶å‘å‰ç§»åŠ¨
else:
    ä¸‰é€‰ä¸€ï¼š
        æ’å…¥ï¼ˆinsertï¼‰
        åˆ é™¤ï¼ˆdeleteï¼‰
        æ›¿æ¢ï¼ˆreplaceï¼‰
```

æœ‰è¿™ä¸ªæ¡†æ¶ï¼Œé—®é¢˜å°±å·²ç»è§£å†³äº†ã€‚è¯»è€…ä¹Ÿè®¸ä¼šé—®ï¼Œè¿™ä¸ªã€Œä¸‰é€‰ä¸€ã€åˆ°åº•è¯¥æ€ä¹ˆé€‰æ‹©å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå…¨è¯•ä¸€éï¼Œå“ªä¸ªæ“ä½œæœ€åå¾—åˆ°çš„ç¼–è¾‘è·ç¦»æœ€å°ï¼Œå°±é€‰è°ã€‚è¿™é‡Œéœ€è¦é€’å½’æŠ€å·§ï¼Œå…ˆçœ‹ä¸‹æš´åŠ›è§£æ³•ä»£ç ï¼š

```java
int minDistance(String s1, String s2) {
    int m = s1.length(), n = s2.length();
    // iï¼Œj åˆå§‹åŒ–æŒ‡å‘æœ€åä¸€ä¸ªç´¢å¼•
    return dp(s1, m - 1, s2, n - 1);
}

// å®šä¹‰ï¼šè¿”å› s1[0..i] å’Œ s2[0..j] çš„æœ€å°ç¼–è¾‘è·ç¦»
int dp(String s1, int i, String s2, int j) {
    // base case
    if (i == -1) return j + 1;
    if (j == -1) return i + 1;

    if (s1.charAt(i) == s2.charAt(j)) {
        return dp(s1, i - 1, s2, j - 1); // å•¥éƒ½ä¸åš
    }
    return min(
        dp(s1, i, s2, j - 1) + 1,    // æ’å…¥
        dp(s1, i - 1, s2, j) + 1,    // åˆ é™¤
        dp(s1, i - 1, s2, j - 1) + 1 // æ›¿æ¢
    );
}

int min(int a, int b, int c) {
    return Math.min(a, Math.min(b, c));
}
```

ä¸‹é¢æ¥è¯¦ç»†è§£é‡Šä¸€ä¸‹è¿™æ®µé€’å½’ä»£ç ï¼Œbase case åº”è¯¥ä¸ç”¨è§£é‡Šäº†ï¼Œä¸»è¦è§£é‡Šä¸€ä¸‹é€’å½’éƒ¨åˆ†ã€‚

éƒ½è¯´é€’å½’ä»£ç çš„å¯è§£é‡Šæ€§å¾ˆå¥½ï¼Œè¿™æ˜¯æœ‰é“ç†çš„ï¼Œåªè¦ç†è§£å‡½æ•°çš„å®šä¹‰ï¼Œå°±èƒ½å¾ˆæ¸…æ¥šåœ°ç†è§£ç®—æ³•çš„é€»è¾‘ã€‚æˆ‘ä»¬è¿™é‡Œ `dp` å‡½æ•°çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š

```java
// å®šä¹‰ï¼šè¿”å› s1[0..i] å’Œ s2[0..j] çš„æœ€å°ç¼–è¾‘è·ç¦»
int dp(String s1, int i, String s2, int j) {
```

**è®°ä½è¿™ä¸ªå®šä¹‰**ä¹‹åï¼Œå…ˆæ¥çœ‹è¿™æ®µä»£ç ï¼š

```python
if s1[i] == s2[j]:
    return dp(s1, i - 1, s2, j - 1); # å•¥éƒ½ä¸åš
# è§£é‡Šï¼š
# æœ¬æ¥å°±ç›¸ç­‰ï¼Œä¸éœ€è¦ä»»ä½•æ“ä½œ
# s1[0..i] å’Œ s2[0..j] çš„æœ€å°ç¼–è¾‘è·ç¦»ç­‰äº
# s1[0..i-1] å’Œ s2[0..j-1] çš„æœ€å°ç¼–è¾‘è·ç¦»
# ä¹Ÿå°±æ˜¯è¯´ dp(i, j) ç­‰äº dp(i-1, j-1)
```

å¦‚æœ `s1[i] != s2[j]`ï¼Œå°±è¦å¯¹ä¸‰ä¸ªæ“ä½œé€’å½’äº†ï¼Œç¨å¾®éœ€è¦ç‚¹æ€è€ƒï¼š

```python
dp(s1, i, s2, j - 1) + 1,    # æ’å…¥
# è§£é‡Šï¼š
# æˆ‘ç›´æ¥åœ¨ s1[i] æ’å…¥ä¸€ä¸ªå’Œ s2[j] ä¸€æ ·çš„å­—ç¬¦
# é‚£ä¹ˆ s2[j] å°±è¢«åŒ¹é…äº†ï¼Œå‰ç§» jï¼Œç»§ç»­è·Ÿ i å¯¹æ¯”
# åˆ«å¿˜äº†æ“ä½œæ•°åŠ ä¸€
```

[![img](https://labuladong.github.io/algo/images/editDistance/insert.gif)](https://labuladong.github.io/algo/images/editDistance/insert.gif)

```python
dp(s1, i - 1, s2, j) + 1,    # åˆ é™¤
# è§£é‡Šï¼š
# æˆ‘ç›´æ¥æŠŠ s[i] è¿™ä¸ªå­—ç¬¦åˆ æ‰
# å‰ç§» iï¼Œç»§ç»­è·Ÿ j å¯¹æ¯”
# æ“ä½œæ•°åŠ ä¸€
```

[![img](https://labuladong.github.io/algo/images/editDistance/delete.gif)](https://labuladong.github.io/algo/images/editDistance/delete.gif)

```python
dp(s1, i - 1, s2, j - 1) + 1 # æ›¿æ¢
# è§£é‡Šï¼š
# æˆ‘ç›´æ¥æŠŠ s1[i] æ›¿æ¢æˆ s2[j]ï¼Œè¿™æ ·å®ƒä¿©å°±åŒ¹é…äº†
# åŒæ—¶å‰ç§» iï¼Œj ç»§ç»­å¯¹æ¯”
# æ“ä½œæ•°åŠ ä¸€
```

[![img](https://labuladong.github.io/algo/images/editDistance/replace.gif)](https://labuladong.github.io/algo/images/editDistance/replace.gif)

ç°åœ¨ï¼Œä½ åº”è¯¥å®Œå…¨ç†è§£è¿™æ®µçŸ­å°ç²¾æ‚çš„ä»£ç äº†ã€‚è¿˜æœ‰ç‚¹å°é—®é¢˜å°±æ˜¯ï¼Œè¿™ä¸ªè§£æ³•æ˜¯æš´åŠ›è§£æ³•ï¼Œå­˜åœ¨é‡å å­é—®é¢˜ï¼Œéœ€è¦ç”¨åŠ¨æ€è§„åˆ’æŠ€å·§æ¥ä¼˜åŒ–ã€‚

**æ€ä¹ˆèƒ½ä¸€çœ¼çœ‹å‡ºå­˜åœ¨é‡å å­é—®é¢˜å‘¢**ï¼Ÿåæ–‡ [åŠ¨æ€è§„åˆ’ä¹‹æ­£åˆ™è¡¨è¾¾å¼](https://labuladong.github.io/algo/di-er-zhan-a01c6/yong-dong--63ceb/jing-dian--f403f/) æœ‰æè¿‡ï¼Œè¿™é‡Œå†ç®€å•æä¸€ä¸‹ï¼Œéœ€è¦æŠ½è±¡å‡ºæœ¬æ–‡ç®—æ³•çš„é€’å½’æ¡†æ¶ï¼š

```java
int dp(i, j) {
    dp(i - 1, j - 1); // #1
    dp(i, j - 1);     // #2
    dp(i - 1, j);     // #3
}
```

å¯¹äºå­é—®é¢˜ `dp(i-1, j-1)`ï¼Œå¦‚ä½•é€šè¿‡åŸé—®é¢˜ `dp(i, j)` å¾—åˆ°å‘¢ï¼Ÿæœ‰ä¸æ­¢ä¸€æ¡è·¯å¾„ï¼Œæ¯”å¦‚ `dp(i, j) -> #1` å’Œ `dp(i, j) -> #2 -> #3`ã€‚ä¸€æ—¦å‘ç°ä¸€æ¡é‡å¤è·¯å¾„ï¼Œå°±è¯´æ˜å­˜åœ¨å·¨é‡é‡å¤è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯é‡å å­é—®é¢˜ã€‚

### ä¸‰ã€åŠ¨æ€è§„åˆ’ä¼˜åŒ–

å¯¹äºé‡å å­é—®é¢˜å‘¢ï¼Œå‰æ–‡ [åŠ¨æ€è§„åˆ’è¯¦è§£](https://labuladong.github.io/algo/di-ling-zh-bfe1b/dong-tai-g-1e688/) è¯¦ç»†ä»‹ç»è¿‡ï¼Œä¼˜åŒ–æ–¹æ³•æ— éæ˜¯å¤‡å¿˜å½•æˆ–è€… DP tableã€‚

å¤‡å¿˜å½•å¾ˆå¥½åŠ ï¼ŒåŸæ¥çš„ä»£ç ç¨åŠ ä¿®æ”¹å³å¯ï¼š

```java
// å¤‡å¿˜å½•
int[][] memo;
    
public int minDistance(String s1, String s2) {
    int m = s1.length(), n = s2.length();
    // å¤‡å¿˜å½•åˆå§‹åŒ–ä¸ºç‰¹æ®Šå€¼ï¼Œä»£è¡¨è¿˜æœªè®¡ç®—
    memo = new int[m][n];
    for (int[] row : memo) {
        Arrays.fill(row, -1);
    }
    return dp(s1, m - 1, s2, n - 1);
}

int dp(String s1, int i, String s2, int j) {
    if (i == -1) return j + 1;
    if (j == -1) return i + 1;
    // æŸ¥å¤‡å¿˜å½•ï¼Œé¿å…é‡å å­é—®é¢˜
    if (memo[i][j] != -1) {
        return memo[i][j];
    }
    // çŠ¶æ€è½¬ç§»ï¼Œç»“æœå­˜å…¥å¤‡å¿˜å½•
    if (s1.charAt(i) == s2.charAt(j)) {
        memo[i][j] = dp(s1, i - 1, s2, j - 1);
    } else {
        memo[i][j] =  min(
            dp(s1, i, s2, j - 1) + 1,
            dp(s1, i - 1, s2, j) + 1,
            dp(s1, i - 1, s2, j - 1) + 1
        );
    }
    return memo[i][j];
}

int min(int a, int b, int c) {
    return Math.min(a, Math.min(b, c));
}
```

**ä¸»è¦è¯´ä¸‹ DP table çš„è§£æ³•**ï¼š

é¦–å…ˆæ˜ç¡® `dp` æ•°ç»„çš„å«ä¹‰ï¼Œ`dp` æ•°ç»„æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œé•¿è¿™æ ·ï¼š

[![img](https://labuladong.github.io/algo/images/editDistance/dp.jpg)](https://labuladong.github.io/algo/images/editDistance/dp.jpg)

æœ‰äº†ä¹‹å‰é€’å½’è§£æ³•çš„é“ºå«ï¼Œåº”è¯¥å¾ˆå®¹æ˜“ç†è§£ã€‚`dp[..][0]` å’Œ `dp[0][..]` å¯¹åº” base caseï¼Œ`dp[i][j]` çš„å«ä¹‰å’Œä¹‹å‰çš„ `dp` å‡½æ•°ç±»ä¼¼ï¼š

```java
int dp(String s1, int i, String s2, int j)
// è¿”å› s1[0..i] å’Œ s2[0..j] çš„æœ€å°ç¼–è¾‘è·ç¦»

dp[i-1][j-1]
// å­˜å‚¨ s1[0..i] å’Œ s2[0..j] çš„æœ€å°ç¼–è¾‘è·ç¦»
```

`dp` å‡½æ•°çš„ base case æ˜¯ `i, j` ç­‰äº -1ï¼Œè€Œæ•°ç»„ç´¢å¼•è‡³å°‘æ˜¯ 0ï¼Œæ‰€ä»¥ `dp` æ•°ç»„ä¼šåç§»ä¸€ä½ã€‚

æ—¢ç„¶ `dp` æ•°ç»„å’Œé€’å½’ `dp` å‡½æ•°å«ä¹‰ä¸€æ ·ï¼Œä¹Ÿå°±å¯ä»¥ç›´æ¥å¥—ç”¨ä¹‹å‰çš„æ€è·¯å†™ä»£ç ï¼Œ**å”¯ä¸€ä¸åŒçš„æ˜¯ï¼ŒDP table æ˜¯è‡ªåº•å‘ä¸Šæ±‚è§£ï¼Œé€’å½’è§£æ³•æ˜¯è‡ªé¡¶å‘ä¸‹æ±‚è§£**ï¼š

```java
int minDistance(String s1, String s2) {
    int m = s1.length(), n = s2.length();
    // å®šä¹‰ï¼šs1[0..i] å’Œ s2[0..j] çš„æœ€å°ç¼–è¾‘è·ç¦»æ˜¯ dp[i+1][j+1]
    int[][] dp = new int[m + 1][n + 1];
    // base case 
    for (int i = 1; i <= m; i++)
        dp[i][0] = i;
    for (int j = 1; j <= n; j++)
        dp[0][j] = j;
    // è‡ªåº•å‘ä¸Šæ±‚è§£
    for (int i = 1; i <= m; i++) {
        for (int j = 1; j <= n; j++) {
            if (s1.charAt(i-1) == s2.charAt(j-1)) {
                dp[i][j] = dp[i - 1][j - 1];
            } else {
                dp[i][j] = min(
                    dp[i - 1][j] + 1,


                    dp[i][j - 1] + 1,


                    dp[i - 1][j - 1] + 1


                );
            }
        }
    }
    // å‚¨å­˜ç€æ•´ä¸ª s1 å’Œ s2 çš„æœ€å°ç¼–è¾‘è·ç¦»
    return dp[m][n];
}

int min(int a, int b, int c) {
    return Math.min(a, Math.min(b, c));
}
```

### ä¸‰ã€æ‰©å±•å»¶ä¼¸

ä¸€èˆ¬æ¥è¯´ï¼Œå¤„ç†ä¸¤ä¸ªå­—ç¬¦ä¸²çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œéƒ½æ˜¯æŒ‰æœ¬æ–‡çš„æ€è·¯å¤„ç†ï¼Œå»ºç«‹ DP tableã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Œå› ä¸ºæ˜“äºæ‰¾å‡ºçŠ¶æ€è½¬ç§»çš„å…³ç³»ï¼Œæ¯”å¦‚ç¼–è¾‘è·ç¦»çš„ DP tableï¼š

[![img](https://labuladong.github.io/algo/images/editDistance/4.jpg)](https://labuladong.github.io/algo/images/editDistance/4.jpg)

è¿˜æœ‰ä¸€ä¸ªç»†èŠ‚ï¼Œæ—¢ç„¶æ¯ä¸ª `dp[i][j]` åªå’Œå®ƒé™„è¿‘çš„ä¸‰ä¸ªçŠ¶æ€æœ‰å…³ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯å¯ä»¥å‹ç¼©æˆ `O(min(M, N))` çš„ï¼ˆMï¼ŒN æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼‰ã€‚ä¸éš¾ï¼Œä½†æ˜¯å¯è§£é‡Šæ€§å¤§å¤§é™ä½ï¼Œè¯»è€…å¯ä»¥è‡ªå·±å°è¯•ä¼˜åŒ–ä¸€ä¸‹ã€‚

ä½ å¯èƒ½è¿˜ä¼šé—®ï¼Œ**è¿™é‡Œåªæ±‚å‡ºäº†æœ€å°çš„ç¼–è¾‘è·ç¦»ï¼Œé‚£å…·ä½“çš„æ“ä½œæ˜¯ä»€ä¹ˆ**ï¼Ÿä½ ä¹‹å‰ä¸¾çš„ä¿®æ”¹å…¬ä¼—å·æ–‡ç« çš„ä¾‹å­ï¼Œåªæœ‰ä¸€ä¸ªæœ€å°ç¼–è¾‘è·ç¦»è‚¯å®šä¸å¤Ÿï¼Œè¿˜å¾—çŸ¥é“å…·ä½“æ€ä¹ˆä¿®æ”¹æ‰è¡Œã€‚

è¿™ä¸ªå…¶å®å¾ˆç®€å•ï¼Œä»£ç ç¨åŠ ä¿®æ”¹ï¼Œç»™ dp æ•°ç»„å¢åŠ é¢å¤–çš„ä¿¡æ¯å³å¯ï¼š

```java
// int[][] dp;
Node[][] dp;

class Node {
    int val;
    int choice;
    // 0 ä»£è¡¨å•¥éƒ½ä¸åš
    // 1 ä»£è¡¨æ’å…¥
    // 2 ä»£è¡¨åˆ é™¤
    // 3 ä»£è¡¨æ›¿æ¢
}
```

`val` å±æ€§å°±æ˜¯ä¹‹å‰çš„ dp æ•°ç»„çš„æ•°å€¼ï¼Œ`choice` å±æ€§ä»£è¡¨æ“ä½œã€‚åœ¨åšæœ€ä¼˜é€‰æ‹©æ—¶ï¼Œé¡ºä¾¿æŠŠæ“ä½œè®°å½•ä¸‹æ¥ï¼Œç„¶åå°±ä»ç»“æœåæ¨å…·ä½“æ“ä½œã€‚

æˆ‘ä»¬çš„æœ€ç»ˆç»“æœä¸æ˜¯ `dp[m][n]` å—ï¼Œè¿™é‡Œçš„ `val` å­˜ç€æœ€å°ç¼–è¾‘è·ç¦»ï¼Œ`choice` å­˜ç€æœ€åä¸€ä¸ªæ“ä½œï¼Œæ¯”å¦‚è¯´æ˜¯æ’å…¥æ“ä½œï¼Œé‚£ä¹ˆå°±å¯ä»¥å·¦ç§»ä¸€æ ¼ï¼š

[![img](https://labuladong.github.io/algo/images/editDistance/5.jpg)](https://labuladong.github.io/algo/images/editDistance/5.jpg)

é‡å¤æ­¤è¿‡ç¨‹ï¼Œå¯ä»¥ä¸€æ­¥æ­¥å›åˆ°èµ·ç‚¹ `dp[0][0]`ï¼Œå½¢æˆä¸€æ¡è·¯å¾„ï¼ŒæŒ‰è¿™æ¡è·¯å¾„ä¸Šçš„æ“ä½œè¿›è¡Œç¼–è¾‘ï¼Œå°±æ˜¯æœ€ä½³æ–¹æ¡ˆã€‚

[![img](https://labuladong.github.io/algo/images/editDistance/6.jpg)](https://labuladong.github.io/algo/images/editDistance/6.jpg)

