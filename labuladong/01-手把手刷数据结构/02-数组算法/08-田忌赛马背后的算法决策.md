# ç”°å¿Œèµ›é©¬èƒŒåçš„ç®—æ³•å†³ç­–

è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

|                           LeetCode                           |                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :--: |
| [870. Advantage Shuffle](https://leetcode.com/problems/advantage-shuffle/) | [870. ä¼˜åŠ¿æ´—ç‰Œ](https://leetcode.cn/problems/advantage-shuffle/) |  ğŸŸ    |

**â€”â€”â€”â€“**

ç”°å¿Œèµ›é©¬çš„æ•…äº‹å¤§å®¶åº”è¯¥éƒ½å¬è¯´è¿‡ï¼š

ç”°å¿Œå’Œé½ç‹èµ›é©¬ï¼Œä¸¤äººçš„é©¬åˆ†ä¸Šä¸­ä¸‹ä¸‰ç­‰ï¼Œå¦‚æœåŒç­‰çº§çš„é©¬å¯¹åº”ç€æ¯”èµ›ï¼Œç”°å¿Œèµ¢ä¸äº†é½ç‹ã€‚ä½†æ˜¯ç”°å¿Œé‡åˆ°äº†å­™è†‘ï¼Œå­™è†‘å°±æ•™ä»–ç”¨è‡ªå·±çš„ä¸‹ç­‰é©¬å¯¹é½ç‹çš„ä¸Šç­‰é©¬ï¼Œå†ç”¨è‡ªå·±çš„ä¸Šç­‰é©¬å¯¹é½ç‹çš„ä¸­ç­‰é©¬ï¼Œæœ€åç”¨è‡ªå·±çš„ä¸­ç­‰é©¬å¯¹é½ç‹çš„ä¸‹ç­‰é©¬ï¼Œç»“æœä¸‰å±€ä¸¤èƒœï¼Œç”°å¿Œèµ¢äº†ã€‚

å½“ç„¶ï¼Œè¿™æ®µå†å²ä¹ŸæŒºæœ‰æ„æ€çš„ï¼Œé‚£ä¸ªè®½é½ç‹çº³è°ï¼Œè‡ªæ‹çš„ä¸è¡Œçš„é‚¹å¿Œå’Œç”°å¿Œæ˜¯åŒä¸€æ—¶æœŸçš„äººï¼Œä»–ä¿©åæ¥å°±æ ä¸Šäº†ã€‚ä¸è¿‡è¿™æ˜¯é¢˜å¤–è¯ï¼Œæˆ‘ä»¬è¿™é‡Œå°±æ‰“ä½ã€‚

ä»¥å‰å­¦åˆ°ç”°å¿Œèµ›é©¬è¯¾æ–‡çš„æ—¶ï¼Œæˆ‘å°±åœ¨æƒ³ï¼Œå¦‚æœä¸æ˜¯ä¸‰åŒ¹é©¬æ¯”èµ›ï¼Œè€Œæ˜¯ä¸€ç™¾åŒ¹é©¬æ¯”èµ›ï¼Œå­™è†‘è¿˜èƒ½ä¸èƒ½åˆç†åœ°å®‰æ’æ¯”èµ›çš„é¡ºåºï¼Œèµ¢å¾—é½ç‹å‘¢ï¼Ÿ

å½“æ—¶æ²¡æƒ³å‡ºä»€ä¹ˆå¥½çš„ç‚¹å­ï¼Œåªè§‰å¾—è¿™é‡Œé¢æœ€æ ¸å¿ƒé—®é¢˜æ˜¯è¦å°½å¯èƒ½è®©è‡ªå·±å ä¾¿å®œï¼Œè®©å¯¹æ–¹åƒäºã€‚æ€»ç»“æ¥è¯´å°±æ˜¯ï¼Œ**æ‰“å¾—è¿‡å°±æ‰“ï¼Œæ‰“ä¸è¿‡å°±æ‹¿è‡ªå·±çš„åƒåœ¾å’Œå¯¹æ–¹çš„ç²¾é”äº’æ¢**ã€‚

ä¸è¿‡ï¼Œæˆ‘ä¸€ç›´æ²¡å…·ä½“æŠŠè¿™ä¸ªæ€è·¯å®ç°å‡ºæ¥ï¼Œç›´åˆ°æœ€è¿‘åˆ·åˆ°åŠ›æ‰£ç¬¬ 870 é¢˜ã€Œ [ä¼˜åŠ¿æ´—ç‰Œ](https://leetcode.cn/problems/advantage-shuffle/)ã€ï¼Œä¸€çœ¼å°±å‘ç°è¿™æ˜¯ç”°å¿Œèµ›é©¬é—®é¢˜çš„åŠ å¼ºç‰ˆï¼š

ç»™ä½ è¾“å…¥ä¸¤ä¸ª**é•¿åº¦ç›¸ç­‰**çš„æ•°ç»„ `nums1` å’Œ `nums2`ï¼Œè¯·ä½ é‡æ–°ç»„ç»‡ `nums1` ä¸­å…ƒç´ çš„ä½ç½®ï¼Œä½¿å¾— `nums1` çš„ã€Œä¼˜åŠ¿ã€æœ€å¤§åŒ–ã€‚

å¦‚æœ `nums1[i] > nums2[i]`ï¼Œå°±æ˜¯è¯´ `nums1` åœ¨ç´¢å¼• `i` ä¸Šå¯¹ `nums2[i]` æœ‰ã€Œä¼˜åŠ¿ã€ã€‚ä¼˜åŠ¿æœ€å¤§åŒ–ä¹Ÿå°±æ˜¯è¯´è®©ä½ é‡æ–°ç»„ç»‡ `nums1`ï¼Œ**å°½å¯èƒ½å¤šçš„è®© `nums1[i] > nums2[i]`**ã€‚

ç®—æ³•ç­¾åå¦‚ä¸‹ï¼š

```java
int[] advantageCount(int[] nums1, int[] nums2);
```

æ¯”å¦‚è¾“å…¥ï¼š

```java
nums1 = [12,24,8,32]
nums2 = [13,25,32,11]
```

ä½ çš„ç®—æ³•åº”è¯¥è¿”å› `[24,32,8,12]`ï¼Œå› ä¸ºè¿™æ ·æ’åˆ— `nums1` çš„è¯æœ‰ä¸‰ä¸ªå…ƒç´ éƒ½æœ‰ã€Œä¼˜åŠ¿ã€ã€‚

**è¿™å°±åƒç”°å¿Œèµ›é©¬çš„æƒ…æ™¯ï¼Œ`nums1` å°±æ˜¯ç”°å¿Œçš„é©¬ï¼Œ`nums2` å°±æ˜¯é½ç‹çš„é©¬ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ å°±æ˜¯é©¬çš„æˆ˜æ–—åŠ›ï¼Œä½ å°±æ˜¯å­™è†‘ï¼Œå±•ç¤ºä½ çœŸæ­£çš„æŠ€æœ¯å§**ã€‚

ä»”ç»†æƒ³æƒ³ï¼Œè¿™ä¸ªé¢˜çš„è§£æ³•è¿˜æ˜¯æœ‰ç‚¹æ‰‘æœ”è¿·ç¦»çš„ã€‚ä»€ä¹ˆæ—¶å€™åº”è¯¥æ”¾å¼ƒæŠµæŠ—å»é€äººå¤´ï¼Œä»€ä¹ˆæ—¶å€™åº”è¯¥ç¡¬åˆšï¼Ÿè¿™é‡Œé¢åº”è¯¥æœ‰ä¸€ç§ç®—æ³•ç­–ç•¥æ¥æœ€å¤§åŒ–ã€Œä¼˜åŠ¿ã€ã€‚

é€äººå¤´ä¸€å®šæ˜¯è¿«ä¸å¾—å·²è€Œä¸ºä¹‹çš„æƒå®œä¹‹è®¡ï¼Œå¦åˆ™éš”å£ç”°å¿Œå°±ä¼šä»¥ä¸ºä½ æ˜¯é½ç‹ä¹°æ¥çš„æ¼”å‘˜ã€‚åªæœ‰ç”°å¿Œçš„ä¸Šç­‰é©¬æ¯”ä¸è¿‡é½ç‹çš„ä¸Šç­‰é©¬æ—¶ï¼Œæ‰ä¼šç”¨ä¸‹ç­‰é©¬å»å’Œé½ç‹çš„ä¸Šç­‰é©¬äº’æ¢ã€‚

å¯¹äºæ¯”è¾ƒå¤æ‚çš„é—®é¢˜ï¼Œå¯ä»¥å°è¯•ä»ç‰¹æ®Šæƒ…å†µè€ƒè™‘ã€‚

ä½ æƒ³ï¼Œè°åº”è¯¥å»åº”å¯¹é½ç‹æœ€å¿«çš„é©¬ï¼Ÿè‚¯å®šæ˜¯ç”°å¿Œæœ€å¿«çš„é‚£åŒ¹é©¬ï¼Œæˆ‘ä»¬ç®€ç§°ä¸€å·é€‰æ‰‹ã€‚

**å¦‚æœç”°å¿Œçš„ä¸€å·é€‰æ‰‹æ¯”ä¸è¿‡é½ç‹çš„ä¸€å·é€‰æ‰‹**ï¼Œé‚£å…¶ä»–é©¬è‚¯å®šæ˜¯ç™½ç»™äº†ï¼Œæ˜¾ç„¶è¿™ç§æƒ…å†µåº”è¯¥ç”¨ç”°å¿Œå«åº•çš„é©¬å»é€äººå¤´ï¼Œé™ä½å·±æ–¹æŸå¤±ï¼Œä¿å­˜å®åŠ›ï¼Œå¢åŠ æ¥ä¸‹æ¥æ¯”èµ›çš„èƒœç‡ã€‚

**ä½†å¦‚æœç”°å¿Œçš„ä¸€å·é€‰æ‰‹èƒ½æ¯”å¾—è¿‡é½ç‹çš„ä¸€å·é€‰æ‰‹**ï¼Œé‚£å°±å’Œé½ç‹ç¡¬åˆšå¥½äº†ï¼Œåæ­£è¿™æŠŠç”°å¿Œå¯ä»¥èµ¢ã€‚

ä½ ä¹Ÿè®¸è¯´ï¼Œè¿™ç§æƒ…å†µä¸‹è¯´ä¸å®šç”°å¿Œçš„äºŒå·é€‰æ‰‹ä¹Ÿèƒ½å¹²å¾—è¿‡é½ç‹çš„ä¸€å·é€‰æ‰‹ï¼Ÿå¦‚æœå¯ä»¥çš„è¯ï¼Œè®©äºŒå·é€‰æ‰‹å»å¯¹å†³é½ç‹çš„ä¸€å·é€‰æ‰‹ï¼Œä¸æ˜¯æ›´èŠ‚çº¦ï¼Ÿ

å°±å¥½æ¯”ï¼Œå¦‚æœè€ƒ 60 åˆ†å°±èƒ½è¿‡çš„è¯ï¼Œä½•å¿…è€ƒ 90 åˆ†ï¼Ÿæ¯å¤šè€ƒä¸€åˆ†å°±äºä¸€åˆ†ï¼Œåˆšåˆšå¥½å¡åœ¨ 60 åˆ†æ˜¯æœ€åˆ’ç®—çš„ã€‚

**è¿™ç§èŠ‚çº¦çš„ç­–ç•¥æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦ã€‚è¿™ä¹Ÿæ˜¯æœ¬é¢˜æœ‰è¶£çš„åœ°æ–¹ï¼Œéœ€è¦ç»•ä¸ªè„‘ç­‹æ€¥è½¬å¼¯**ï¼š

æˆ‘ä»¬æš‚ä¸”æŠŠç”°å¿Œçš„ä¸€å·é€‰æ‰‹ç§°ä¸º `T1`ï¼ŒäºŒå·é€‰æ‰‹ç§°ä¸º `T2`ï¼Œé½ç‹çš„ä¸€å·é€‰æ‰‹ç§°ä¸º `Q1`ã€‚

å¦‚æœ `T2` èƒ½èµ¢ `Q1`ï¼Œä½ è¯•å›¾ä¿å­˜å·±æ–¹å®åŠ›ï¼Œè®© `T2` å»æˆ˜ `Q1`ï¼ŒæŠŠ `T1` ç•™ç€æ˜¯ä¸ºäº†å¯¹ä»˜è°ï¼Ÿ

æ˜¾ç„¶ï¼Œä½ æ‹…å¿ƒé½ç‹è¿˜æœ‰æˆ˜åŠ›å¤§äº `T2` çš„é©¬ï¼Œå¯ä»¥è®© `T1` å»å¯¹ä»˜ã€‚

ä½†æ˜¯ä½ ä»”ç»†æƒ³æƒ³ï¼Œç°åœ¨ `T2` å·²ç»æ˜¯å¯ä»¥æˆ˜èƒœ `Q1` çš„ï¼Œ`Q1` å¯æ˜¯é½ç‹çš„æœ€å¿«çš„é©¬è€¶ï¼Œé½ç‹å‰©ä¸‹çš„é‚£äº›é©¬é‡Œï¼Œæ€ä¹ˆå¯èƒ½è¿˜æœ‰æ¯” `T2` æ›´å¼ºçš„é©¬ï¼Ÿ

æ‰€ä»¥ï¼Œæ²¡å¿…è¦èŠ‚çº¦ï¼Œæœ€åæˆ‘ä»¬å¾—å‡ºçš„ç­–ç•¥å°±æ˜¯ï¼š

**å°†é½ç‹å’Œç”°å¿Œçš„é©¬æŒ‰ç…§æˆ˜æ–—åŠ›æ’åºï¼Œç„¶åæŒ‰ç…§æ’åä¸€ä¸€å¯¹æ¯”ã€‚å¦‚æœç”°å¿Œçš„é©¬èƒ½èµ¢ï¼Œé‚£å°±æ¯”èµ›ï¼Œå¦‚æœèµ¢ä¸äº†ï¼Œé‚£å°±æ¢ä¸ªå«åº•çš„æ¥é€äººå¤´ï¼Œä¿å­˜å®åŠ›**ã€‚

ä¸Šè¿°æ€è·¯çš„ä»£ç é€»è¾‘å¦‚ä¸‹ï¼š

```java
int n = nums1.length;

sort(nums1); // ç”°å¿Œçš„é©¬
sort(nums2); // é½ç‹çš„é©¬

// ä»æœ€å¿«çš„é©¬å¼€å§‹æ¯”
for (int i = n - 1; i >= 0; i--) {
    if (nums1[i] > nums2[i]) {
        // æ¯”å¾—è¿‡ï¼Œè·Ÿä»–æ¯”
    } else {
        // æ¯”ä¸è¿‡ï¼Œæ¢ä¸ªå«åº•çš„æ¥é€äººå¤´
    }
}
```

æ ¹æ®è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸¤ä¸ªæ•°ç»„æ’åºï¼Œä½†æ˜¯ `nums2` ä¸­å…ƒç´ çš„é¡ºåºä¸èƒ½æ”¹å˜ï¼Œå› ä¸ºè®¡ç®—ç»“æœçš„é¡ºåºä¾èµ– `nums2` çš„é¡ºåºï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥å¯¹ `nums2` è¿›è¡Œæ’åºï¼Œè€Œæ˜¯åˆ©ç”¨å…¶ä»–æ•°æ®ç»“æ„æ¥è¾…åŠ©ã€‚

åŒæ—¶ï¼Œæœ€ç»ˆçš„è§£æ³•è¿˜ç”¨åˆ°å‰æ–‡ [åŒæŒ‡é’ˆæŠ€å·§æ±‡æ€»](https://labuladong.github.io/algo/2/20/23/) æ€»ç»“çš„åŒæŒ‡é’ˆç®—æ³•æ¨¡æ¿ï¼Œç”¨ä»¥å¤„ç†ã€Œé€äººå¤´ã€çš„æƒ…å†µï¼š

```java
int[] advantageCount(int[] nums1, int[] nums2) {
    int n = nums1.length;
    // ç»™ nums2 é™åºæ’åº
    PriorityQueue<int[]> maxpq = new PriorityQueue<>(
        (int[] pair1, int[] pair2) -> { 
            return pair2[1] - pair1[1];
        }
    );
    for (int i = 0; i < n; i++) {
        maxpq.offer(new int[]{i, nums2[i]});
    }
    // ç»™ nums1 å‡åºæ’åº
    Arrays.sort(nums1);

    // nums1[left] æ˜¯æœ€å°å€¼ï¼Œnums1[right] æ˜¯æœ€å¤§å€¼
    int left = 0, right = n - 1;
    int[] res = new int[n];

    while (!maxpq.isEmpty()) {
        int[] pair = maxpq.poll();
        // maxval æ˜¯ nums2 ä¸­çš„æœ€å¤§å€¼ï¼Œi æ˜¯å¯¹åº”ç´¢å¼•
        int i = pair[0], maxval = pair[1];
        if (maxval < nums1[right]) {
            // å¦‚æœ nums1[right] èƒ½èƒœè¿‡ maxvalï¼Œé‚£å°±è‡ªå·±ä¸Š
            res[i] = nums1[right];
            right--;
        } else {
            // å¦åˆ™ç”¨æœ€å°å€¼æ··ä¸€ä¸‹ï¼Œå…»ç²¾è“„é”
            res[i] = nums1[left];
            left++;
        }
    }
    return res;
}
```

ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¾ˆå¥½åˆ†æï¼Œä¹Ÿå°±æ˜¯äºŒå‰å †å’Œæ’åºçš„å¤æ‚åº¦ `O(nlogn)`ã€‚

è‡³æ­¤ï¼Œè¿™é“ç”°å¿Œèµ›é©¬çš„é¢˜å°±è§£å†³äº†ï¼Œå…¶ä»£ç å®ç°ä¸Šç”¨åˆ°äº†åŒæŒ‡é’ˆæŠ€å·§ï¼Œä»æœ€å¿«çš„é©¬å¼€å§‹ï¼Œæ¯”å¾—è¿‡å°±æ¯”ï¼Œæ¯”ä¸è¿‡å°±é€ï¼Œè¿™æ ·å°±èƒ½å¯¹ä»»æ„æ•°é‡çš„é©¬æ±‚å–ä¸€ä¸ªæœ€ä¼˜çš„æ¯”èµ›ç­–ç•¥äº†ã€‚