<p>åœ¨ä¸€ä¸ª <code>2 x 3</code> çš„æ¿ä¸Šï¼ˆ<code>board</code>ï¼‰æœ‰ 5 å—ç –ç“¦ï¼Œç”¨æ•°å­— <code>1~5</code> æ¥è¡¨ç¤º, ä»¥åŠä¸€å—ç©ºç¼ºç”¨&nbsp;<code>0</code>&nbsp;æ¥è¡¨ç¤ºã€‚ä¸€æ¬¡ <strong>ç§»åŠ¨</strong> å®šä¹‰ä¸ºé€‰æ‹©&nbsp;<code>0</code>&nbsp;ä¸ä¸€ä¸ªç›¸é‚»çš„æ•°å­—ï¼ˆä¸Šä¸‹å·¦å³ï¼‰è¿›è¡Œäº¤æ¢.</p>

<p>æœ€ç»ˆå½“æ¿&nbsp;<code>board</code>&nbsp;çš„ç»“æœæ˜¯&nbsp;<code>[[1,2,3],[4,5,0]]</code>&nbsp;è°œæ¿è¢«è§£å¼€ã€‚</p>

<p>ç»™å‡ºä¸€ä¸ªè°œæ¿çš„åˆå§‹çŠ¶æ€&nbsp;<code>board</code>&nbsp;ï¼Œè¿”å›æœ€å°‘å¯ä»¥é€šè¿‡å¤šå°‘æ¬¡ç§»åŠ¨è§£å¼€è°œæ¿ï¼Œå¦‚æœä¸èƒ½è§£å¼€è°œæ¿ï¼Œåˆ™è¿”å› <code>-1</code> ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<p><img src="https://assets.leetcode.com/uploads/2021/06/29/slide1-grid.jpg" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>board = [[1,2,3],[4,0,5]]
<strong>è¾“å‡ºï¼š</strong>1
<strong>è§£é‡Šï¼š</strong>äº¤æ¢ 0 å’Œ 5 ï¼Œ1 æ­¥å®Œæˆ
</pre>

<p><strong>ç¤ºä¾‹ 2:</strong></p>

<p><img src="https://assets.leetcode.com/uploads/2021/06/29/slide2-grid.jpg" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>board = [[1,2,3],[5,4,0]]
<strong>è¾“å‡ºï¼š</strong>-1
<strong>è§£é‡Šï¼š</strong>æ²¡æœ‰åŠæ³•å®Œæˆè°œæ¿
</pre>

<p><strong>ç¤ºä¾‹ 3:</strong></p>

<p><img alt="" src="https://assets.leetcode.com/uploads/2021/06/29/slide3-grid.jpg" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>board = [[4,1,2],[5,0,3]]
<strong>è¾“å‡ºï¼š</strong>5
<strong>è§£é‡Šï¼š</strong>
æœ€å°‘å®Œæˆè°œæ¿çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°æ˜¯ 5 ï¼Œ
ä¸€ç§ç§»åŠ¨è·¯å¾„:
å°šæœªç§»åŠ¨: [[4,1,2],[5,0,3]]
ç§»åŠ¨ 1 æ¬¡: [[4,1,2],[0,5,3]]
ç§»åŠ¨ 2 æ¬¡: [[0,1,2],[4,5,3]]
ç§»åŠ¨ 3 æ¬¡: [[1,0,2],[4,5,3]]
ç§»åŠ¨ 4 æ¬¡: [[1,2,0],[4,5,3]]
ç§»åŠ¨ 5 æ¬¡: [[1,2,3],[4,5,0]]
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>board.length == 2</code></li> 
 <li><code>board[i].length == 3</code></li> 
 <li><code>0 &lt;= board[i][j] &lt;= 5</code></li> 
 <li><code>board[i][j]</code>&nbsp;ä¸­æ¯ä¸ªå€¼éƒ½ <strong>ä¸åŒ</strong></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>å¹¿åº¦ä¼˜å…ˆæœç´¢ | æ•°ç»„ | çŸ©é˜µ</details><br>

<div>ğŸ‘ 301, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.gitee.io/article/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.github.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.1ï¼Œ[æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘ç³»åˆ—è¯¾ç¨‹](https://aep.xet.tech/s/3YGcq3) ä¸Šçº¿ã€‚**



<p><strong><a href="https://labuladong.github.io/article/slug.html?slug=sliding-puzzle" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

PSï¼šè¿™é“é¢˜åœ¨[ã€Šç®—æ³•å°æŠ„ã€‹](https://item.jd.com/12759911.html) çš„ç¬¬ 310 é¡µã€‚

è¿™é¢˜å¯ä»¥ç”¨ BFS ç®—æ³•è§£å†³ã€‚BFS ç®—æ³•å¹¶ä¸åªæ˜¯ä¸€ä¸ªå¯»è·¯ç®—æ³•ï¼Œè€Œæ˜¯ä¸€ç§æš´åŠ›æœç´¢ç®—æ³•ï¼Œåªè¦æ¶‰åŠæš´åŠ›ç©·ä¸¾çš„é—®é¢˜ï¼ŒBFS å°±å¯ä»¥ç”¨ï¼Œè€Œä¸”å¯ä»¥æœ€å¿«åœ°ç©·ä¸¾å‡ºç­”æ¡ˆï¼Œå…³äº BFS ç®—æ³•åŸç†å¯ä»¥çœ‹ [BFS ç®—æ³•æ¡†æ¶](https://labuladong.github.io/article/fname.html?fname=BFSæ¡†æ¶)ã€‚

**è¯¦ç»†é¢˜è§£ï¼š[å¦‚ä½•ç”¨ BFS ç®—æ³•ç§’æ€å„ç§æ™ºåŠ›é¢˜](https://labuladong.github.io/article/fname.html?fname=BFSè§£å†³æ»‘åŠ¨æ‹¼å›¾)**

**æ ‡ç­¾ï¼š[BFS ç®—æ³•](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2122002916411604996)ï¼Œå­—ç¬¦ä¸²**

## è§£æ³•ä»£ç 

æç¤ºï¼šğŸŸ¢ æ ‡è®°çš„æ˜¯æˆ‘å†™çš„è§£æ³•ä»£ç ï¼ŒğŸ¤– æ ‡è®°çš„æ˜¯ chatGPT ç¿»è¯‘çš„å¤šè¯­è¨€è§£æ³•ä»£ç ã€‚å¦‚æœ‰é”™è¯¯ï¼Œå¯ä»¥ [ç‚¹è¿™é‡Œ](https://github.com/labuladong/fucking-algorithm/issues/1113) åé¦ˆå’Œä¿®æ­£ã€‚

<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution {
public:
    int slidingPuzzle(vector<vector<int>>& board) {
        int m = 2, n = 3;
        string target = "123450";
        // å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
        string start = "";
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                start += to_string(board[i][j]);
            }
        }

        // è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
        int neighbor[6][3] = {
            {1, 3},
            {0, 4, 2},
            {1, 5},
            {0, 4},
            {3, 1, 5},
            {4, 2}
        };

        /******* BFS ç®—æ³•æ¡†æ¶å¼€å§‹ *******/
        queue<string> q;
        unordered_set<string> visited;
        // ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
        q.push(start);
        visited.insert(start);

        int step = 0;
        while (!q.empty()) {
            int sz = q.size();
            for (int i = 0; i < sz; i++) {
                string cur = q.front();
                q.pop();
                // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
                if (target == cur) {
                    return step;
                }
                // æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
                int idx = 0;
                for (; cur[idx] != '0'; idx++) ;
                // å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
                for (int j = 0; j < 3; j++) {
                    int adj = neighbor[idx][j];
                    string new_board = swap(cur, adj, idx);
                    // é˜²æ­¢èµ°å›å¤´è·¯
                    if (visited.find(new_board) == visited.end()) {
                        q.push(new_board);
                        visited.insert(new_board);
                    }
                }
            }
            step++;
        }
        /******* BFS ç®—æ³•æ¡†æ¶ç»“æŸ *******/
        return -1;
    }

    string swap(string str, int i, int j) {
        char temp = str[i];
        str[i] = str[j];
        str[j] = temp;
        return str;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution:
    def slidingPuzzle(self, board: List[List[int]]) -> int:
        m, n = 2, 3
        sb = []
        target = "123450"
        # å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
        for i in range(m):
            for j in range(n):
                sb.append(str(board[i][j]))
        start = ''.join(sb)

        # è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
        neighbor = [
            [1, 3],
            [0, 4, 2],
            [1, 5],
            [0, 4],
            [3, 1, 5],
            [4, 2]
        ]

        # BFS ç®—æ³•æ¡†æ¶å¼€å§‹
        q = collections.deque()
        visited = set()
        # ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
        q.append(start)
        visited.add(start)

        step = 0
        while q:
            sz = len(q)
            for i in range(sz):
                cur = q.popleft()
                # åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
                if target == cur:
                    return step
                # æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
                idx = cur.find('0')
                # å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
                for adj in neighbor[idx]:
                    new_board = self.swap(cur, adj, idx)
                    # é˜²æ­¢èµ°å›å¤´è·¯
                    if new_board not in visited:
                        q.append(new_board)
                        visited.add(new_board)
            step += 1
        # BFS ç®—æ³•æ¡†æ¶ç»“æŸ
        return -1

    def swap(self, chars, i, j):
        chars = list(chars)
        chars[i], chars[j] = chars[j], chars[i]
        return ''.join(chars)
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    public int slidingPuzzle(int[][] board) {
        int m = 2, n = 3;
        StringBuilder sb = new StringBuilder();
        String target = "123450";
        // å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                sb.append(board[i][j]);
            }
        }
        String start = sb.toString();

        // è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
        int[][] neighbor = new int[][]{
                {1, 3},
                {0, 4, 2},
                {1, 5},
                {0, 4},
                {3, 1, 5},
                {4, 2}
        };

        /******* BFS ç®—æ³•æ¡†æ¶å¼€å§‹ *******/
        Queue<String> q = new LinkedList<>();
        HashSet<String> visited = new HashSet<>();
        // ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
        q.offer(start);
        visited.add(start);

        int step = 0;
        while (!q.isEmpty()) {
            int sz = q.size();
            for (int i = 0; i < sz; i++) {
                String cur = q.poll();
                // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
                if (target.equals(cur)) {
                    return step;
                }
                // æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
                int idx = 0;
                for (; cur.charAt(idx) != '0'; idx++) ;
                // å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
                for (int adj : neighbor[idx]) {
                    String new_board = swap(cur.toCharArray(), adj, idx);
                    // é˜²æ­¢èµ°å›å¤´è·¯
                    if (!visited.contains(new_board)) {
                        q.offer(new_board);
                        visited.add(new_board);
                    }
                }
            }
            step++;
        }
        /******* BFS ç®—æ³•æ¡†æ¶ç»“æŸ *******/
        return -1;
    }

    private String swap(char[] chars, int i, int j) {
        char temp = chars[i];
        chars[i] = chars[j];
        chars[j] = temp;
        return new String(chars);
    }

}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

import "fmt"

func slidingPuzzle(board [][]int) int {
    m, n := 2, 3
    sb := make([]byte, 0, 6)
    target := "123450"
    // å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
    for i := 0; i < m; i++ {
        for j := 0; j < n; j++ {
            sb = append(sb, byte(board[i][j]+'0'))
        }
    }
    start := string(sb)

    // è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
    neighbor := [][]int{
        {1, 3},
        {0, 4, 2},
        {1, 5},
        {0, 4},
        {3, 1, 5},
        {4, 2},
    }

    /******* BFS ç®—æ³•æ¡†æ¶å¼€å§‹ *******/
    q := []string{start}
    visited := make(map[string]bool)
    // ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
    visited[start] = true

    step := 0
    for len(q) > 0 {
        sz := len(q)
        for i := 0; i < sz; i++ {
            cur := q[i]
            // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
            if cur == target {
                return step
            }
            // æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
            idx := 0
            for cur[idx] != '0' {
                idx++
            }
            // å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
            for _, adj := range neighbor[idx] {
                newBoard := swap([]byte(cur), adj, idx)
                // é˜²æ­¢èµ°å›å¤´è·¯
                if !visited[newBoard] {
                    q = append(q, newBoard)
                    visited[newBoard] = true
                }
            }
        }
        q = q[sz:]
        step++
    }
    /******* BFS ç®—æ³•æ¡†æ¶ç»“æŸ *******/
    return -1
}

func swap(chars []byte, i, j int) string {
    temp := chars[i]
    chars[i] = chars[j]
    chars[j] = temp
    return string(chars)
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç è¿˜æœªç»è¿‡åŠ›æ‰£æµ‹è¯•ï¼Œä»…ä¾›å‚è€ƒï¼Œå¦‚æœ‰ç–‘æƒ‘ï¼Œå¯ä»¥å‚ç…§æˆ‘å†™çš„ java ä»£ç å¯¹æ¯”æŸ¥çœ‹ã€‚

var slidingPuzzle = function(board) {
  const m = 2, n = 3;
  
  let sb = '';
  const target = '123450';
  // å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
  for (let i = 0; i < m; i++) {
      for (let j = 0; j < n; j++) {
          sb += board[i][j];
      }
  }
  let start = sb.toString();

  // è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
  const neighbor = [
      [1, 3],
      [0, 4, 2],
      [1, 5],
      [0, 4],
      [3, 1, 5],
      [4, 2]
  ];
  
  /******* BFS ç®—æ³•æ¡†æ¶å¼€å§‹ *******/
  let q = [];
  const visited = new Set();
  // ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
  q.push(start);
  visited.add(start);

  let step = 0;
  while (q.length) {
      const sz = q.length;
      for (let i = 0; i < sz; i++) {
          const cur = q.shift();
          // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
          if (target === cur) {
              return step;
          }
          // æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
          let idx = 0;
          for (; cur.charAt(idx) !== '0'; idx++) ;
          // å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
          for (const adj of neighbor[idx]) {
              const new_board = swap(cur.slice(0), adj, idx);
              // é˜²æ­¢èµ°å›å¤´è·¯
              if (!visited.has(new_board)) {
                  q.push(new_board);
                  visited.add(new_board);
              }
          }
      }
      step++;
  }
  /******* BFS ç®—æ³•æ¡†æ¶ç»“æŸ *******/
  return -1;
};

var swap = function(chars, i, j) {
  [chars[i], chars[j]] = [chars[j], chars[i]];
  return chars.join('');
};
```

</div></div>
</div></div>

</details>
</div>





