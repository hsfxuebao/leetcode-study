<p>ç»™å®šä¸€ä¸ª <strong>æ’åºå¥½</strong> çš„æ•°ç»„&nbsp;<code>arr</code> ï¼Œä¸¤ä¸ªæ•´æ•° <code>k</code> å’Œ <code>x</code> ï¼Œä»æ•°ç»„ä¸­æ‰¾åˆ°æœ€é è¿‘ <code>x</code>ï¼ˆä¸¤æ•°ä¹‹å·®æœ€å°ï¼‰çš„ <code>k</code> ä¸ªæ•°ã€‚è¿”å›çš„ç»“æœå¿…é¡»è¦æ˜¯æŒ‰å‡åºæ’å¥½çš„ã€‚</p>

<p>æ•´æ•° <code>a</code> æ¯”æ•´æ•° <code>b</code> æ›´æ¥è¿‘ <code>x</code> éœ€è¦æ»¡è¶³ï¼š</p>

<ul> 
 <li><code>|a - x| &lt; |b - x|</code> æˆ–è€…</li> 
 <li><code>|a - x| == |b - x|</code> ä¸” <code>a &lt; b</code></li> 
</ul>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>arr = [1,2,3,4,5], k = 4, x = 3
<strong>è¾“å‡ºï¼š</strong>[1,2,3,4]
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>arr = [1,2,3,4,5], k = 4, x = -1
<strong>è¾“å‡ºï¼š</strong>[1,2,3,4]
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>1 &lt;= k &lt;= arr.length</code></li> 
 <li><code>1 &lt;= arr.length&nbsp;&lt;= 10<sup>4</sup></code>
  <meta charset="UTF-8" /></li> 
 <li><code>arr</code>&nbsp;æŒ‰ <strong>å‡åº</strong> æ’åˆ—</li> 
 <li><code>-10<sup>4</sup>&nbsp;&lt;= arr[i], x &lt;= 10<sup>4</sup></code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ•°ç»„ | åŒæŒ‡é’ˆ | äºŒåˆ†æŸ¥æ‰¾ | æ’åº | æ»‘åŠ¨çª—å£ | å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</details><br>

<div>ğŸ‘ 483, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.gitee.io/article/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.github.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.1ï¼Œ[æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘ç³»åˆ—è¯¾ç¨‹](https://aep.xet.tech/s/3YGcq3) ä¸Šçº¿ã€‚**

<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

æˆ‘ä»¬å°±è¯´ä¸€ä¸ªæœ€ç®€å•ç›´æ¥çš„æ–¹å¼ï¼šç”¨ [äºŒåˆ†æŸ¥æ‰¾ç®—æ³•è¯¦è§£](https://labuladong.github.io/article/fname.html?fname=äºŒåˆ†æŸ¥æ‰¾è¯¦è§£) ä¸­ä»‹ç»çš„æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾ç®—æ³•æ‰¾åˆ° `x` çš„ä½ç½®ï¼Œç„¶åç”¨ [æ•°ç»„åŒæŒ‡é’ˆæŠ€å·§æ±‡æ€»](https://labuladong.github.io/article/fname.html?fname=åŒæŒ‡é’ˆæŠ€å·§) ä¸­è§£å†³ [5. æœ€é•¿å›æ–‡å­ä¸²](/problems/longest-palindromic-substring) çš„ä»ä¸­é—´å‘ä¸¤ç«¯çš„åŒæŒ‡é’ˆç®—æ³•æ‰¾åˆ°è¿™ `k` ä¸ªå…ƒç´ ã€‚

ä¸ºä»€ä¹ˆæ˜¯æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢ï¼Ÿå¯ä»¥ä»”ç»†çœ‹ä¸‹å‰æ–‡ [äºŒåˆ†æŸ¥æ‰¾ç®—æ³•è¯¦è§£](https://labuladong.github.io/article/fname.html?fname=äºŒåˆ†æŸ¥æ‰¾è¯¦è§£)ï¼Œæœ‰æåˆ°å·¦ä¾§è¾¹ç•ŒäºŒåˆ†æœç´¢çš„å‡ ç§ç†è§£æ–¹å¼ã€‚

å¦å¤–ï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚è¿”å›çš„ç»“æœå¿…é¡»æŒ‰å‡åºæ’åºï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»ç”¨ `LinkedList` æ¥ä»ä¸¤ç«¯æ·»åŠ ç»“æœï¼Œä½¿å¾—ç»“æœæœ‰åºã€‚

**æ ‡ç­¾ï¼š[äºŒåˆ†æœç´¢](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2120601117519675393)ï¼Œ[æ•°ç»„åŒæŒ‡é’ˆ](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2120601117519675393)**

## è§£æ³•ä»£ç 

<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution {
public:
    vector<int> findClosestElements(vector<int>& arr, int k, int x) {
        // äºŒåˆ†æœç´¢æ‰¾åˆ° x çš„ä½ç½®
        int p = left_bound(arr, x);
        // ä¸¤ç«¯éƒ½å¼€çš„åŒºé—´ (left, right)
        int left = p - 1, right = p;
        vector<int> res;
        // æ‰©å±•åŒºé—´ï¼Œç›´åˆ°åŒºé—´å†…åŒ…å« k ä¸ªå…ƒç´ 
        while (right - left - 1 < k) {
            if (left == -1) {
                res.push_back(arr[right]);
                right++;
            } else if (right == arr.size()) {
                res.insert(res.begin(), arr[left]);
                left--;
            } else if (x - arr[left] > arr[right] - x) {
                res.push_back(arr[right]);
                right++;
            } else {
                res.insert(res.begin(), arr[left]);
                left--;
            }
        }
        return res;
    }

    // æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢
    int left_bound(vector<int>& nums, int target) {
        int left = 0;
        int right = nums.size();

        while (left < right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] == target) {
                right = mid;
            } else if (nums[mid] < target) {
                left = mid + 1;
            } else if (nums[mid] > target) {
                right = mid;
            }
        }
        return left;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution:
    def findClosestElements(self, arr: List[int], k: int, x: int) -> List[int]:
        # äºŒåˆ†æœç´¢æ‰¾åˆ° x çš„ä½ç½®
        p = self.left_bound(arr, x)
        # ä¸¤ç«¯éƒ½å¼€çš„åŒºé—´ (left, right)
        left, right = p - 1, p
        res = []
        # æ‰©å±•åŒºé—´ï¼Œç›´åˆ°åŒºé—´å†…åŒ…å« k ä¸ªå…ƒç´ 
        while right - left - 1 < k:
            if left == -1:
                res.append(arr[right])
                right += 1
            elif right == len(arr):
                res.insert(0, arr[left])
                left -= 1
            elif x - arr[left] > arr[right] - x:
                res.append(arr[right])
                right += 1
            else:
                res.insert(0, arr[left])
                left -= 1
        return res

    # æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢
    def left_bound(self, nums: List[int], target: int) -> int:
        left, right = 0, len(nums)

        while left < right:
            mid = left + (right - left) // 2
            if nums[mid] == target:
                right = mid
            elif nums[mid] < target:
                left = mid + 1
            elif nums[mid] > target:
                right = mid
        return left
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    public List<Integer> findClosestElements(int[] arr, int k, int x) {
        // äºŒåˆ†æœç´¢æ‰¾åˆ° x çš„ä½ç½®
        int p = left_bound(arr, x);
        // ä¸¤ç«¯éƒ½å¼€çš„åŒºé—´ (left, right)
        int left = p - 1, right = p;
        LinkedList<Integer> res = new LinkedList<>();
        // æ‰©å±•åŒºé—´ï¼Œç›´åˆ°åŒºé—´å†…åŒ…å« k ä¸ªå…ƒç´ 
        while (right - left - 1 < k) {
            if (left == -1) {
                res.addLast(arr[right]);
                right++;
            } else if (right == arr.length) {
                res.addFirst(arr[left]);
                left--;
            } else if (x - arr[left] > arr[right] - x) {
                res.addLast(arr[right]);
                right++;
            } else {
                res.addFirst(arr[left]);
                left--;
            }
        }
        return res;
    }

    // æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢
    int left_bound(int[] nums, int target) {
        int left = 0;
        int right = nums.length;

        while (left < right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] == target) {
                right = mid;
            } else if (nums[mid] < target) {
                left = mid + 1;
            } else if (nums[mid] > target) {
                right = mid;
            }
        }
        return left;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

func findClosestElements(arr []int, k int, x int) []int {
    // äºŒåˆ†æœç´¢æ‰¾åˆ° x çš„ä½ç½®
    p := left_bound(arr, x)
    // ä¸¤ç«¯éƒ½å¼€çš„åŒºé—´ (left, right)
    left, right := p-1, p
    res := make([]int, 0)
    // æ‰©å±•åŒºé—´ï¼Œç›´åˆ°åŒºé—´å†…åŒ…å« k ä¸ªå…ƒç´ 
    for right-left-1 < k {
        if left == -1 {
            res = append(res, arr[right])
            right++
        } else if right == len(arr) {
            res = append([]int{arr[left]}, res...)
            left--
        } else if x-arr[left] > arr[right]-x {
            res = append(res, arr[right])
            right++
        } else {
            res = append([]int{arr[left]}, res...)
            left--
        }
    }
    return res
}

// æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢
func left_bound(nums []int, target int) int {
    left := 0
    right := len(nums)

    for left < right {
        mid := left + (right-left)/2
        if nums[mid] == target {
            right = mid
        } else if nums[mid] < target {
            left = mid + 1
        } else if nums[mid] > target {
            right = mid
        }
    }
    return left
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

var findClosestElements = function(arr, k, x) {
    // äºŒåˆ†æœç´¢æ‰¾åˆ° x çš„ä½ç½®
    let p = left_bound(arr, x);
    // ä¸¤ç«¯éƒ½å¼€çš„åŒºé—´ (left, right)
    let left = p - 1, right = p;
    let res = [];
    // æ‰©å±•åŒºé—´ï¼Œç›´åˆ°åŒºé—´å†…åŒ…å« k ä¸ªå…ƒç´ 
    while (right - left - 1 < k) {
        if (left == -1) {
            res.push(arr[right]);
            right++;
        } else if (right == arr.length) {
            res.unshift(arr[left]);
            left--;
        } else if (x - arr[left] > arr[right] - x) {
            res.push(arr[right]);
            right++;
        } else {
            res.unshift(arr[left]);
            left--;
        }
    }
    return res;
};

// æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢
var left_bound = function(nums, target) {
    let left = 0;
    let right = nums.length;

    while (left < right) {
        let mid = left + Math.floor((right - left) / 2);
        if (nums[mid] == target) {
            right = mid;
        } else if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid;
        }
    }
    return left;
};
```

</div></div>
</div></div>

</details>
</div>



