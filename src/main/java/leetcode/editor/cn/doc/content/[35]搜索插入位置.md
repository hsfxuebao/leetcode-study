<p>给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。</p>

<p>请必须使用时间复杂度为 <code>O(log n)</code> 的算法。</p>

<p>&nbsp;</p>

<p><strong>示例 1:</strong></p>

<pre>
<strong>输入:</strong> nums = [1,3,5,6], target = 5
<strong>输出:</strong> 2
</pre>

<p><strong>示例&nbsp;2:</strong></p>

<pre>
<strong>输入:</strong> nums = [1,3,5,6], target = 2
<strong>输出:</strong> 1
</pre>

<p><strong>示例 3:</strong></p>

<pre>
<strong>输入:</strong> nums = [1,3,5,6], target = 7
<strong>输出:</strong> 4
</pre>

<p>&nbsp;</p>

<p><strong>提示:</strong></p>

<ul> 
 <li><code>1 &lt;= nums.length &lt;= 10<sup>4</sup></code></li> 
 <li><code>-10<sup>4</sup> &lt;= nums[i] &lt;= 10<sup>4</sup></code></li> 
 <li><code>nums</code> 为&nbsp;<strong>无重复元素&nbsp;</strong>的&nbsp;<strong>升序&nbsp;</strong>排列数组</li> 
 <li><code>-10<sup>4</sup> &lt;= target &lt;= 10<sup>4</sup></code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>数组 | 二分查找</details><br>

<div>👍 1963, 👎 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug 反馈</a> | <a href='https://labuladong.gitee.io/article/fname.html?fname=jb插件简介' target='_blank' style='color: lightgray;text-decoration: underline;'>使用指南</a> | <a href='https://labuladong.github.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>更多配套插件</a></span></span></div>

<div id="labuladong"><hr>

**通知：[数据结构精品课](https://aep.h5.xeknow.com/s/1XJHEO) 已更新到 V2.1，[手把手刷二叉树系列课程](https://aep.xet.tech/s/3YGcq3) 上线。**

<details><summary><strong>labuladong 思路</strong></summary>

## 基本思路

这道题就是考察搜索左侧边界的二分算法的细节理解，前文 [二分搜索详解](https://labuladong.github.io/article/fname.html?fname=二分查找详解) 着重讲了数组中存在目标元素重复的情况，没仔细讲目标元素不存在的情况。

**当目标元素 `target` 不存在数组 `nums` 中时，搜索左侧边界的二分搜索的返回值可以做以下几种解读**：

1、返回的这个值是 `nums` 中大于等于 `target` 的最小元素索引。

2、返回的这个值是 `target` 应该插入在 `nums` 中的索引位置。

3、返回的这个值是 `nums` 中小于 `target` 的元素个数。

比如在有序数组 `nums = [2,3,5,7]` 中搜索 `target = 4`，搜索左边界的二分算法会返回 2，你带入上面的说法，都是对的。

所以以上三种解读都是等价的，可以根据具体题目场景灵活运用，显然这里我们需要的是第二种。

**标签：[二分搜索](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2120601117519675393)**

## 解法代码

提示：🟢 标记的是我写的解法代码，🤖 标记的是 chatGPT 翻译的多语言解法代码。如有错误，可以 [点这里](https://github.com/labuladong/fucking-algorithm/issues/1113) 反馈和修正。

<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cpp🤖</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">python🤖</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">java🟢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">go🤖</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascript🤖</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// 注意：cpp 代码由 chatGPT🤖 根据我的 java 代码翻译，旨在帮助不同背景的读者理解算法逻辑。
// 本代码已经通过力扣的测试用例，应该可直接成功提交。

class Solution {
public:
    int searchInsert(vector<int>& nums, int target) {
        return left_bound(nums, target);
    }

    // 搜索左侧边界的二分算法
    int left_bound(vector<int>& nums, int target) {
        if (nums.size() == 0) return -1;
        int left = 0;
        int right = nums.size(); // 注意

        while (left < right) { // 注意
            int mid = left + (right - left) / 2;
            if (nums[mid] == target) {
                right = mid;
            } else if (nums[mid] < target) {
                left = mid + 1;
            } else if (nums[mid] > target) {
                right = mid; // 注意
            }
        }
        return left;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# 注意：python 代码由 chatGPT🤖 根据我的 java 代码翻译，旨在帮助不同背景的读者理解算法逻辑。
# 本代码已经通过力扣的测试用例，应该可直接成功提交。

class Solution:
    def searchInsert(self, nums: List[int], target: int) -> int:
        return self.left_bound(nums, target)

    # 搜索左侧边界的二分算法
    def left_bound(self, nums: List[int], target: int) -> int:
        if not nums:
            return -1
        left = 0
        right = len(nums)  # 注意

        while left < right:  # 注意
            mid = left + (right - left) // 2
            if nums[mid] == target:
                right = mid
            elif nums[mid] < target:
                left = mid + 1
            elif nums[mid] > target:
                right = mid  # 注意

        return left
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    public int searchInsert(int[] nums, int target) {
        return left_bound(nums, target);
    }

    // 搜索左侧边界的二分算法
    int left_bound(int[] nums, int target) {
        if (nums.length == 0) return -1;
        int left = 0;
        int right = nums.length; // 注意

        while (left < right) { // 注意
            int mid = left + (right - left) / 2;
            if (nums[mid] == target) {
                right = mid;
            } else if (nums[mid] < target) {
                left = mid + 1;
            } else if (nums[mid] > target) {
                right = mid; // 注意
            }
        }
        return left;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// 注意：go 代码由 chatGPT🤖 根据我的 java 代码翻译，旨在帮助不同背景的读者理解算法逻辑。
// 本代码已经通过力扣的测试用例，应该可直接成功提交。

import "fmt"

func searchInsert(nums []int, target int) int {
    return leftBound(nums, target)
}

// leftBound is a binary search algorithm that searches for the left boundary
func leftBound(nums []int, target int) int {
    if len(nums) == 0 {
        return -1
    }
    left, right := 0, len(nums) // 注意

    for left < right { // 注意
        mid := left + (right-left)/2
        if nums[mid] == target {
            right = mid
        } else if nums[mid] < target {
            left = mid + 1
        } else if nums[mid] > target {
            right = mid // 注意
        }
    }
    return left
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// 注意：javascript 代码由 chatGPT🤖 根据我的 java 代码翻译，旨在帮助不同背景的读者理解算法逻辑。
// 本代码已经通过力扣的测试用例，应该可直接成功提交。

/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
var searchInsert = function(nums, target) {
    return left_bound(nums, target);
};

/**
 * 搜索左侧边界的二分算法
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
var left_bound = function(nums, target) {
    if (nums.length == 0) return -1;
    let left = 0;
    let right = nums.length; // 注意

    while (left < right) { // 注意
        let mid = left + Math.floor((right - left) / 2);
        if (nums[mid] == target) {
            right = mid;
        } else if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid; // 注意
        }
    }
    return left;
};
```

</div></div>
</div></div>

<details open><summary><strong>🥳🥳 算法可视化 🥳🥳</strong></summary><div id="data_search-insert-position" data="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"></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_search-insert-position"></div></div>
</details><hr /><br />

**类似题目**：
  - [剑指 Offer II 068. 查找插入位置 🟢](/problems/N6YdxV)

</details>
</div>





